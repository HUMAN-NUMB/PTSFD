{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getListAPI } from '@/api';\nexport default {\n  name: 'my-register',\n\n  data() {\n    // 必须在data函数里定义此箭头函数，才能确保this.form使用\n    const samePwd = (rule, value, callback) => {\n      if (value !== this.form.password) {\n        callback(new Error('两次输入答案不一致'));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      form: {\n        username: '',\n        password: '',\n        repassword: ''\n      },\n      rulesObj: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }, {\n          pattern: /^[a-zA-z0-9]{1,10}$/,\n          message: '用户名必须是1-10的大小写字母数字',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }, {\n          pattern: /^\\S{6,15}$/,\n          message: '密码必须是6-15的非空字符',\n          trigger: 'blur'\n        }],\n        repassword: [{\n          required: true,\n          message: '请再次输入密码',\n          trigger: 'blur'\n        }, // { pattern: /^\\S{6,15}$/, message: '密码必须是6-15的非空字符', trigger: 'blur' },\n        {\n          validator: samePwd,\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n\n  methods: {\n    // 注册->点击事件\n    registerFn() {\n      this.$refs.form.validate(async valid => {\n        if (valid) {\n          const {\n            data: res\n          } = await getListAPI(this.form); // console.log(res)\n          // 异常处理:return结束并弹窗提示\n\n          if (res.code === 1) {\n            return this.$message.error(res.message);\n          } // 注册成功弹窗提示\n\n\n          this.$message({\n            message: res.message,\n            type: 'success'\n          }); // 路由跳转\n\n          this.$router.push({\n            name: '/login'\n          });\n        } else {\n          return false;\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":";AA4DA;AACA;EACAA,mBADA;;EAEAC;IACA;IACA;MACA;QAAAC;MAAA;QAAAA;MAAA;IACA,CAFA;;IAGA;MAEAC;QACAC,YADA;QAEAC,YAFA;QAGAC;MAHA,CAFA;MAOAC;QACAH,WACA;UAAAI;UAAAC;UAAAC;QAAA,CADA,EAEA;UAAAC;UAAAF;UAAAC;QAAA,CAFA,CADA;QAKAL,WACA;UAAAG;UAAAC;UAAAC;QAAA,CADA,EAEA;UAAAC;UAAAF;UAAAC;QAAA,CAFA,CALA;QASAJ,aACA;UAAAE;UAAAC;UAAAC;QAAA,CADA,EAEA;QACA;UAAAE;UAAAF;QAAA,CAHA;MATA;IAPA;EAuBA,CA9BA;;EA+BAG;IACA;IACAC;MACA;QACA;UACA;YAAAb;UAAA,gCADA,CAEA;UACA;;UACA;YAAA;UAAA,CAJA,CAKA;;;UACA;YACAQ,oBADA;YAEAM;UAFA,GANA,CAUA;;UACA;YAAAf;UAAA;QACA,CAZA,MAYA;UAAA;QAAA;MACA,CAdA;IAeA;;EAlBA;AA/BA","names":["name","data","callback","form","username","password","repassword","rulesObj","required","message","trigger","pattern","validator","methods","registerFn","type"],"sourceRoot":"src/views/register","sources":["index.vue"],"sourcesContent":["<template>\r\n  <!-- 注册页面的整体盒子 -->\r\n  <div class=\"reg-container\">\r\n    <!-- 注册的盒子 -->\r\n    <div class=\"reg-box\">\r\n      <!-- 标题的盒子 -->\r\n      <div class=\"title-box\"><img src=\"../../assets/images/标题logo.png\" alt=\"\"></div>\r\n      <div class=\"left_right-box\">\r\n          <div class=\"left-logo\"><img src=\"../../assets/images/左插图.png\" alt=\"\"></div>\r\n          <div class=\"right-form\">\r\n              <span>账号注册</span>\r\n              <el-form status-icon  :model=\"form\" :rules=\"rulesObj\" ref = \"form\">\r\n                <el-form-item  prop=\"username\">\r\n                  <el-input type=\"text\" autocomplete=\"off\" placeholder=\"请输入用户名\" v-model=\"form.username\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item  prop=\"password\">\r\n                  <el-input type=\"password\" autocomplete=\"off\" placeholder=\"请输入密码\" v-model=\"form.password\"> </el-input>\r\n                </el-form-item>\r\n                <el-form-item  prop=\"repassword\">\r\n                  <el-input placeholder=\"请再次确认密码\" v-model=\"form.repassword\" type=\"password\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                  <el-button class=\"loginBtn\" type=\"primary\" @click=\"registerFn\">登录</el-button>\r\n                  <el-link type=\"info\" @click=\"$router.push({name: '/login'})\">去登录</el-link>\r\n                </el-form-item>\r\n              </el-form>\r\n          </div>\r\n      </div>\r\n      <!-- 注册的表单区域 -->\r\n\r\n    </div>\r\n  </div>\r\n    <!-- <div class=\"login-container\">\r\n    <div class=\"login-box\">\r\n      <div class=\"title-box\"><img src=\"../../assets/images/标题logo.png\" alt=\"\"></div>\r\n      <div class=\"left_right-box\">\r\n          <div class=\"left-logo\"><img src=\"../../assets/images/左插图.png\" alt=\"\"></div>\r\n          <div class=\"right-form\">\r\n              <span>欢迎登录</span>\r\n              <el-form status-icon  :model=\"form\" :rules=\"rulesObj\" ref = \"form\">\r\n                <el-form-item  prop=\"username\">\r\n                  <div class=\"input_box\"><el-input type=\"text\" autocomplete=\"off\" placeholder=\"请输入用户名\" v-model=\"form.username\" width=\"100px\" class=\"two-box\"> </el-input></div>\r\n                </el-form-item>\r\n                <el-form-item  prop=\"password\">\r\n                 <div class=\"input_box\"> <el-input type=\"password\" autocomplete=\"off\" placeholder=\"请输入密码\" v-model=\"form.password\" class=\"two-box\"> </el-input></div>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                  <div class=\"input_box\"><el-button class=\"two-box\" type=\"primary\" @click=\"loginFn\">登录</el-button></div>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                 <div class=\"input_box\"> <el-button type=\"primary\" @click=\"$router.push({name: '/reg'})\" class=\"two-box\">未注册？点击注册</el-button></div>\r\n                </el-form-item>\r\n              </el-form>\r\n          </div>\r\n      </div>\r\n    </div>\r\n  </div> -->\r\n</template>\r\n\r\n<script>\r\nimport { getListAPI } from '@/api'\r\nexport default {\r\n  name: 'my-register',\r\n  data () {\r\n    // 必须在data函数里定义此箭头函数，才能确保this.form使用\r\n    const samePwd = (rule, value, callback) => {\r\n      if (value !== this.form.password) { callback(new Error('两次输入答案不一致')) } else { callback() }\r\n    }\r\n    return {\r\n\r\n      form: {\r\n        username: '',\r\n        password: '',\r\n        repassword: ''\r\n      },\r\n      rulesObj: {\r\n        username: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' },\r\n          { pattern: /^[a-zA-z0-9]{1,10}$/, message: '用户名必须是1-10的大小写字母数字', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' },\r\n          { pattern: /^\\S{6,15}$/, message: '密码必须是6-15的非空字符', trigger: 'blur' }\r\n        ],\r\n        repassword: [\r\n          { required: true, message: '请再次输入密码', trigger: 'blur' },\r\n          // { pattern: /^\\S{6,15}$/, message: '密码必须是6-15的非空字符', trigger: 'blur' },\r\n          { validator: samePwd, trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 注册->点击事件\r\n    registerFn () {\r\n      this.$refs.form.validate(async valid => {\r\n        if (valid) {\r\n          const { data: res } = await getListAPI(this.form)\r\n          // console.log(res)\r\n          // 异常处理:return结束并弹窗提示\r\n          if (res.code === 1) { return this.$message.error(res.message) }\r\n          // 注册成功弹窗提示\r\n          this.$message({\r\n            message: res.message,\r\n            type: 'success'\r\n          })\r\n          // 路由跳转\r\n          this.$router.push({ name: '/login' })\r\n        } else { return false }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.reg-container {\r\n  background: url(\"../../assets/images/背景板.jpg\") center;\r\n  background-size: cover;\r\n  //找父级\r\n  height: 100%;\r\n  .reg-box {\r\n    border: 2.74px solid #559dce;\r\n    width: 89%;\r\n    height: 88%;\r\n    background-color: #fff;\r\n    border-radius: 14px;\r\n    //设置定位，成功定位在中央\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    //左右撑开一点\r\n    transform: translate(-50%, -50%);\r\n    //width包含内padding和border\r\n    padding: 0 30px;\r\n    box-sizing: border-box;\r\n    .title-box {\r\n          // background: url(\"../../assets/images/标题logo.png\") center no-repeat;\r\n          height: 25%;\r\n          display:flex;\r\n          flex-direction:column;\r\n          // margin-bottom: 10rem;\r\n          img{\r\n            align-self:center;\r\n            // margin: 0 auto;\r\n              width: 44%;\r\n              height: 100%;\r\n          }\r\n    }\r\n    .left_right-box{\r\n          width: 100%;\r\n          height: 75%;\r\n          // background-color: red;\r\n          // display: flex;\r\n          display: flex;\r\n          flex-direction: row;\r\n          .left-logo{\r\n                width: 45%;\r\n                // background-color: blue;\r\n                img{\r\n                  width: 100%;\r\n                  height: 100%;\r\n                }\r\n          }\r\n          .right-form{\r\n            background: url(\"../../assets/images/中心背景.png\") center no-repeat;\r\n                width: 55%;\r\n    }\r\n  }\r\n\r\n}\r\n  }\r\n\r\n.loginBtn{\r\n  //继承父\r\n  width: 100% ;\r\n}\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}