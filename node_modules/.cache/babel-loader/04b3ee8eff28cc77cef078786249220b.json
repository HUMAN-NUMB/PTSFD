{"ast":null,"code":"// import {getBookSourseAPI} from '@/api'\nimport APlayer from 'vue-aplayer';\nexport default {\n  name: 'my-laugh',\n  components: {\n    APlayer\n  },\n\n  data() {\n    return {\n      // 上方的四个按钮\n      img_icon: [{\n        img_url: require('@/assets/images/轻松一刻图片1.png'),\n        clickThing: 'lastSong'\n      }, {\n        img_url: require('@/assets/images/轻松一刻图片2.png'),\n        clickThing: 'lastSong'\n      }, {\n        img_url: require('@/assets/images/轻松一刻图片3.png'),\n        clickThing: 'nextSong'\n      }, {\n        img_url: require('@/assets/images/轻松一刻图片4.png'),\n        clickThing: 'stopOrPlaySong'\n      }],\n      // 音频列表\n      audio: [{\n        title: '天空之城',\n        artist: '黄叶',\n        url: 'http://music.163.com/song/media/outer/url?id=1947208581.mp3',\n        pic: 'http://xxx.jpg',\n        lrc: '[00:12.09]作词：林夕[00:12.33]作曲：徐伟贤[00:14.40]对我好对我好'\n      }],\n      // 音乐当前状态:0代表播放，1代表暂停\n      music_state: 0,\n      // 当前音乐的索引\n      musicIndex: 0,\n      // 当前播放的音乐id\n      current_music: 0,\n      // 书本资源\n      book_source: [{\n        book_url: '',\n        book_name: '改变心理学的40项研究 第7版',\n        book_brief: '1、Vue的核心库只关注视图层，并且非常容易学习，非常容易与其它库或已有项目整合。2、Vue的目标是通过尽可能简单的 API 实现响应的数据绑定和组合的视图组件。3、Vue可以做从简单到复杂的前端单页应用，随处可见的Web前端都可以用Vue来开发。而且Vue上手速度快、功能强大，且提供了非常好用的脚手架vue-cli，很简单就可以构建并让自己的项目跑起来。',\n        book_publisher: '人民邮电出版社',\n        book_language: '中文'\n      }]\n    };\n  },\n\n  methods: {\n    // 添加不同的点击事件\n    fourBtnClick(clickThing) {\n      this[clickThing]();\n    },\n\n    lastSong() {},\n\n    stopOrPlaySong() {\n      if (this.music_state === 0) {\n        this.$refs.aplay.pause();\n        this.music_state = 1;\n      } else {\n        this.$refs.aplay.play();\n        this.music_state = 0;\n      }\n    },\n\n    nextSong() {\n      this.musicIndex++;\n      this.current_music = this.music[this.musicIndex].id;\n      console.log(this.current_music1);\n    }\n\n  },\n  computed: {//   audio () { // 动态获取audio标签\n    //     return window.document.querySelector('audio')\n    //   }\n    // current_music1 () {\n    //   return this.current_music\n    // }\n  },\n\n  async created() {// 请求书本资源\n    // const { data: res } = await getBookSourseAPI()\n    // this.current_music = this.music[0].id\n  }\n\n};","map":{"version":3,"mappings":"AAoCA;AAEA;AACA;EACAA,gBADA;EAEAC;IAAAC;EAAA,CAFA;;EAGAC;IACA;MACA;MACAC,WACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,EAGA;QAAAD;QAAAC;MAAA,CAHA,EAIA;QAAAD;QAAAC;MAAA,CAJA,CAFA;MAQA;MACAC,QACA;QACAC,aADA;QAEAC,YAFA;QAGAC,kEAHA;QAIAC,qBAJA;QAKAC;MALA,CADA,CATA;MAkBA;MACAC,cAnBA;MAoBA;MACAC,aArBA;MAsBA;MACAC,gBAvBA;MAwBA;MACAC,cACA;QACAC,YADA;QAEAC,4BAFA;QAGAC,iMAHA;QAIAC,yBAJA;QAKAC;MALA,CADA;IAzBA;EAmCA,CAvCA;;EAwCAC;IACA;IACAC;MACA;IACA,CAJA;;IAKAC,aALA;;IAMAC;MACA;QACA;QACA;MACA,CAHA,MAGA;QACA;QACA;MACA;IACA,CAdA;;IAeAC;MACA;MACA;MACAC;IACA;;EAnBA,CAxCA;EA8DAC,WACA;IACA;IACA;IACA;IACA;IACA;EANA,CA9DA;;EAsEA,iBACA;IACA;IACA;EACA;;AA1EA","names":["name","components","APlayer","data","img_icon","img_url","clickThing","audio","title","artist","url","pic","lrc","music_state","musicIndex","current_music","book_source","book_url","book_name","book_brief","book_publisher","book_language","methods","fourBtnClick","lastSong","stopOrPlaySong","nextSong","console","computed"],"sourceRoot":"src/views/routes","sources":["my-laugh.vue"],"sourcesContent":["<template>\r\n  <div class=\"audio-area\">\r\n        <div class=\"audio-middle\">\r\n            <div class=\"background-middle\">\r\n                    <div v-for=\"(item,index) in img_icon\" :key=\"index\" :style=\"{'background-image':'url('+item.img_url+')'}\" @click=\"fourBtnClick(item.clickThing)\"></div>\r\n            </div>\r\n        </div>\r\n        <!-- v-if 等资源到了，再渲染a-player标签，目的：防止自动播放失效 -->\r\n        <a-player\r\n            v-if=\"audio\"\r\n          :music=\"audio[0]\"\r\n          :list=\"audio\"\r\n          autoplay\r\n          ref=\"aplay\"\r\n        />\r\n\r\n        <div class=\"laugh-area\">\r\n            <div class=\"laugh-middle\">\r\n                <div class=\"laugh-middle-leftImg\"></div>\r\n                <div class=\"laugh-middle-briefInfo\">\r\n                    <span>书名：《{{book_source[0].book_name}}》</span>\r\n                    <span>简介：{{book_source[0].book_brief}}</span>\r\n                    <span>出版社：{{book_source[0].book_publisher}}</span>\r\n                    <span>语言：{{book_source[0].book_language}}</span>\r\n                    <div class=\"laugh-middle-briefInfo-btn\">\r\n                            <div><span>开始阅读</span></div>\r\n                            <div><span>下一本</span><div ></div></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n// import {getBookSourseAPI} from '@/api'\r\n\r\nimport APlayer from 'vue-aplayer'\r\nexport default {\r\n  name: 'my-laugh',\r\n  components: { APlayer },\r\n  data () {\r\n    return {\r\n      // 上方的四个按钮\r\n      img_icon: [\r\n        { img_url: require('@/assets/images/轻松一刻图片1.png'), clickThing: 'lastSong' },\r\n        { img_url: require('@/assets/images/轻松一刻图片2.png'), clickThing: 'lastSong' },\r\n        { img_url: require('@/assets/images/轻松一刻图片3.png'), clickThing: 'nextSong' },\r\n        { img_url: require('@/assets/images/轻松一刻图片4.png'), clickThing: 'stopOrPlaySong' }\r\n      ],\r\n      // 音频列表\r\n      audio: [\r\n        {\r\n          title: '天空之城',\r\n          artist: '黄叶',\r\n          url: 'http://music.163.com/song/media/outer/url?id=1947208581.mp3',\r\n          pic: 'http://xxx.jpg',\r\n          lrc: '[00:12.09]作词：林夕[00:12.33]作曲：徐伟贤[00:14.40]对我好对我好'\r\n        }\r\n      ],\r\n      // 音乐当前状态:0代表播放，1代表暂停\r\n      music_state: 0,\r\n      // 当前音乐的索引\r\n      musicIndex: 0,\r\n      // 当前播放的音乐id\r\n      current_music: 0,\r\n      // 书本资源\r\n      book_source: [\r\n        {\r\n          book_url: '',\r\n          book_name: '改变心理学的40项研究 第7版',\r\n          book_brief: '1、Vue的核心库只关注视图层，并且非常容易学习，非常容易与其它库或已有项目整合。2、Vue的目标是通过尽可能简单的 API 实现响应的数据绑定和组合的视图组件。3、Vue可以做从简单到复杂的前端单页应用，随处可见的Web前端都可以用Vue来开发。而且Vue上手速度快、功能强大，且提供了非常好用的脚手架vue-cli，很简单就可以构建并让自己的项目跑起来。',\r\n          book_publisher: '人民邮电出版社',\r\n          book_language: '中文'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  methods: {\r\n    // 添加不同的点击事件\r\n    fourBtnClick (clickThing) {\r\n      this[clickThing]()\r\n    },\r\n    lastSong () {},\r\n    stopOrPlaySong () {\r\n      if (this.music_state === 0) {\r\n        this.$refs.aplay.pause()\r\n        this.music_state = 1\r\n      } else {\r\n        this.$refs.aplay.play()\r\n        this.music_state = 0\r\n      }\r\n    },\r\n    nextSong () {\r\n      this.musicIndex++\r\n      this.current_music = this.music[this.musicIndex].id\r\n      console.log(this.current_music1)\r\n    }\r\n\r\n  },\r\n  computed: {\r\n    //   audio () { // 动态获取audio标签\r\n    //     return window.document.querySelector('audio')\r\n    //   }\r\n    // current_music1 () {\r\n    //   return this.current_music\r\n    // }\r\n  },\r\n  async created () {\r\n    // 请求书本资源\r\n    // const { data: res } = await getBookSourseAPI()\r\n    // this.current_music = this.music[0].id\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.audio-area{\r\n    width: 100%;\r\n    height: 100%;\r\n    .audio-middle{\r\n        // margin: 0 auto;\r\n        width: 100%;\r\n        height: 17%;\r\n        .background-middle{\r\n\r\n            margin: 0 auto;\r\n            width: 50%;\r\n            height: 100%;\r\n            background: url('../../assets/images/每日一笑-上背景.png') no-repeat center;\r\n            background-size: cover;\r\n            border-radius: 19px;\r\n            display: flex;\r\n            justify-content: space-around;\r\n            align-items: center;\r\n            div{\r\n                // display: inline-block;\r\n\r\n                width: 12%;\r\n                height: 60%;\r\n                background-repeat: no-repeat;\r\n                background-position: center;\r\n\r\n                background-size: cover;\r\n            }\r\n            div:hover{\r\n                cursor: pointer;\r\n            }\r\n            }\r\n\r\n        }\r\n    }\r\n    .laugh-area{\r\n        margin-top: 3%;\r\n        height: 80%;\r\n\r\n        .laugh-middle{\r\n                    // padding: 10%;\r\n            width: 67%;\r\n            height: 95%;\r\n            margin: 0 auto;\r\n            // background-color: blue;\r\n            border-radius: 19px;\r\n            background: url('../../assets/images/轻松一刻下背景.png') no-repeat center;\r\n            background-size: cover;\r\n            overflow: hidden;\r\n            .laugh-middle-leftImg{\r\n                display: inline-block;\r\n                height: 81%;\r\n                width: 30%;\r\n                background-color: red;\r\n                margin-left: 4%;\r\n                margin-top: 4%;\r\n                background: url('../../assets/images/轻松一刻书.png') no-repeat center;\r\n                background-size: cover;\r\n            }\r\n            .laugh-middle-briefInfo{\r\n\r\n                display: inline-block;\r\n                height: 81%;\r\n                width: 58%;\r\n                margin-left: 4%;\r\n                margin-top: 4%;\r\n                // background-color: black;\r\n                overflow: hidden;\r\n                position: relative;\r\n                >span{\r\n                    display: block;\r\n                    margin-top: 6%;\r\n                    font-size: 18px;\r\n                    color: #676767;\r\n                    // 设置超过三行就省略\r\n                    overflow: hidden;\r\n                    text-overflow: ellipsis;\r\n                    text-overflow: -webkit-ellipsis-lastline;\r\n                    display: -webkit-box;\r\n                    -webkit-line-clamp: 3;\r\n                    line-clamp: 3;\r\n                    -webkit-box-orient: vertical;\r\n\r\n                }\r\n                .laugh-middle-briefInfo-btn{\r\n                    width: 100%;\r\n                    position:absolute;\r\n                    bottom: 0;\r\n                    // background-color: red;\r\n                    position: absolute;\r\n                    margin-top: 20%;\r\n                    display: flex;\r\n                    flex-direction: row;\r\n                    justify-content: space-around;\r\n                    >div{\r\n                        display: flex;\r\n                        align-items: center;\r\n                        justify-content: space-around;\r\n                        border-radius: 16px;\r\n                        height: 50px;\r\n                        background-color: #8a9399;\r\n                        width: 25%;\r\n\r\n                        span{\r\n                            color: white;\r\n                            font-size: 22px;\r\n                            line-height: 22px;\r\n                        }\r\n                        span:hover{\r\n                             cursor: pointer;\r\n                        }\r\n                        div{\r\n                                // display: inline-block;\r\n                                width: 20%;\r\n                                height: 70%;\r\n                                background: url('../../assets/images/轻松一刻下图标.png') no-repeat center;\r\n                                background-size: cover;\r\n                        }\r\n                        div:hover{\r\n                            cursor: pointer;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}