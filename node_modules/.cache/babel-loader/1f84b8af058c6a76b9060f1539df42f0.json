{"ast":null,"code":"// import {getBookSourseAPI} from '@/api'\nimport APlayer from 'vue-aplayer';\nexport default {\n  name: 'my-laugh',\n  components: {\n    APlayer\n  },\n\n  data() {\n    return {\n      // 上方的四个按钮\n      img_icon: [{\n        img_url: require('@/assets/images/轻松一刻图片1.png'),\n        clickThing: 'lastSong'\n      }, {\n        img_url: require('@/assets/images/轻松一刻图片2.png'),\n        clickThing: ''\n      }, {\n        img_url: require('@/assets/images/轻松一刻图片3.png'),\n        clickThing: 'nextSong'\n      }, {\n        img_url: require('@/assets/images/轻松一刻图片4.png'),\n        clickThing: 'stopOrPlaySong'\n      }],\n      // 音频列表\n      audio: [{\n        url: require('../../assets/audio/你瞒我瞒.mp3')\n      }, {\n        url: require('../../assets/audio/遇见.mp3')\n      }, {\n        url: require('../../assets/audio/IU.mp3')\n      }],\n      // 当前播放的音乐的索引--默认第一首\n      music_index: 0,\n      // 渲染的判断\n      renderAplayer: true,\n      // 当前展示书本资源索引--默认为0\n      book_index: 0,\n      // 书本资源\n      book_source: [{\n        book_url: require('@/assets/images/轻松一刻书.png'),\n        book_name: '改变心理学的40项研究 第7版',\n        book_brief: '1、Vue的核心库只关注视图层，并且非常容易学习，非常容易与其它库或已有项目整合。2、Vue的目标是通过尽可能简单的 API 实现响应的数据绑定和组合的视图组件。3、Vue可以做从简单到复杂的前端单页应用，随处可见的Web前端都可以用Vue来开发。而且Vue上手速度快、功能强大，且提供了非常好用的脚手架vue-cli，很简单就可以构建并让自己的项目跑起来。',\n        book_publisher: '人民邮电出版社',\n        book_language: '中文',\n        taobao_url: 'https://item.jd.com/66949459642.html'\n      }, {\n        book_url: require('@/assets/images/语文.png'),\n        book_name: '一年级上册语数人教版',\n        book_brief: '一年级上册语文数学英语课本教材教科书人教部编版2021语数英课本 一年级上册语数人教版',\n        book_publisher: '人民教育出版社',\n        book_language: '中文',\n        taobao_url: 'https://item.jd.com/10059767828614.html'\n      }]\n    };\n  },\n\n  methods: {\n    // 添加不同的点击事件\n    fourBtnClick(clickThing) {\n      this[clickThing]();\n    },\n\n    // 播放上一首\n    async lastSong() {\n      // 先关闭aplayer标签\n      this.renderAplayer = false; // 更改数据源\n\n      this.music_index = this.music_index === 0 ? this.audio.length - 1 : this.music_index - 1; // 异步等待开启aplayer标签\n\n      this.renderAplayer = await true; // 触发播放事件\n      //   this.stopOrPlaySong()\n      // this.$refs.aplay.play()\n      //   this.$refs.aplay.autoplay = true\n      //   console.log(this.$refs.aplay)\n      //   this.$refs.aplay.skipBack()\n    },\n\n    // 第四个键播放or暂停\n    stopOrPlaySong() {\n      //   if (this.music_state === 0) {\n      //     this.$refs.aplay.pause()\n      //     this.music_state = 1\n      //   } else {\n      //     this.$refs.aplay.play()\n      //     this.music_state = 0\n      //   }\n      this.$refs.aplay.toggle();\n    },\n\n    // 播放下一首\n    async nextSong() {\n      // 先关闭aplayer标签\n      this.renderAplayer = false; // 更改数据源\n\n      this.music_index = this.music_index === this.audio.length - 1 ? 0 : this.music_index + 1; // 异步等待开启aplayer标签\n\n      this.renderAplayer = await true; // 触发播放事件\n      //   this.stopOrPlaySong()\n    },\n\n    // 切换书本资源\n    changeBookIndex() {\n      this.book_index = this.book_index === this.book_source.length - 1 ? 0 : this.book_index + 1;\n    }\n\n  },\n  computed: {//   audio () { // 动态获取audio标签\n    //     return window.document.querySelector('audio')\n    //   }\n    // current_music1 () {\n    //   return this.current_music\n    // }\n  },\n\n  async created() {// 请求书本资源\n    // const { data: res } = await getBookSourseAPI()\n    // this.current_music = this.music[0].id\n  }\n\n};","map":{"version":3,"mappings":"AAsCA;AAEA;AACA;EACAA,gBADA;EAEAC;IAAAC;EAAA,CAFA;;EAGAC;IACA;MACA;MACAC,WACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,EAGA;QAAAD;QAAAC;MAAA,CAHA,EAIA;QAAAD;QAAAC;MAAA,CAJA,CAFA;MAQA;MACAC,QACA;QACAC;MADA,CADA,EAIA;QACAA;MADA,CAJA,EAOA;QACAA;MADA,CAPA,CATA;MAoBA;MACAC,cArBA;MAsBA;MACAC,mBAvBA;MAyBA;MACAC,aA1BA;MA2BA;MACAC,cACA;QACAC,8CADA;QAEAC,4BAFA;QAGAC,iMAHA;QAIAC,yBAJA;QAKAC,mBALA;QAMAC;MANA,CADA,EASA;QACAL,2CADA;QAEAC,uBAFA;QAGAC,yDAHA;QAIAC,yBAJA;QAKAC,mBALA;QAMAC;MANA,CATA;IA5BA;EA+CA,CAnDA;;EAoDAC;IAEA;IACAC;MACA;IACA,CALA;;IAMA;IACA;MACA;MACA,2BAFA,CAGA;;MACA,yFAJA,CAKA;;MACA,gCANA,CAOA;MACA;MAEA;MACA;MAEA;MACA;IACA,CAtBA;;IAuBA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CAjCA;;IAkCA;IACA;MACA;MACA,2BAFA,CAGA;;MACA,yFAJA,CAKA;;MACA,gCANA,CAOA;MACA;IACA,CA5CA;;IA6CA;IACAC;MACA;IACA;;EAhDA,CApDA;EAuGAC,WACA;IACA;IACA;IACA;IACA;IACA;EANA,CAvGA;;EA+GA,iBACA;IACA;IACA;EACA;;AAnHA","names":["name","components","APlayer","data","img_icon","img_url","clickThing","audio","url","music_index","renderAplayer","book_index","book_source","book_url","book_name","book_brief","book_publisher","book_language","taobao_url","methods","fourBtnClick","stopOrPlaySong","changeBookIndex","computed"],"sourceRoot":"src/views/routes","sources":["my-laugh.vue"],"sourcesContent":["<template>\r\n  <div class=\"audio-area\">\r\n        <div class=\"audio-middle\">\r\n            <div class=\"background-middle\">\r\n                    <div v-for=\"(item,index) in img_icon\" :key=\"index\" :style=\"{'background-image':'url('+item.img_url+')'}\" @click=\"fourBtnClick(item.clickThing)\"></div>\r\n            </div>\r\n        </div>\r\n        <!-- v-if 等资源到了，再渲染a-player标签，目的：防止自动播放失效 -->\r\n        <a-player\r\n            style=\"display:none\"\r\n            v-if=\"audio && renderAplayer\"\r\n          :music=\"audio[music_index]\"\r\n          :list=\"audio\"\r\n          autoplay\r\n          ref=\"aplay\"\r\n          repeat=\"repeat-all\"\r\n        />\r\n\r\n        <div class=\"laugh-area\">\r\n            <div class=\"laugh-middle\">\r\n                <div class=\"laugh-middle-leftImg\" :style=\"{'background-image':'url('+book_source[book_index].book_url+')'}\"></div>\r\n                <div class=\"laugh-middle-briefInfo\">\r\n                    <span>书名：《{{book_source[book_index].book_name}}》</span>\r\n                    <span>简介：{{book_source[book_index].book_brief}}</span>\r\n                    <span>出版社：{{book_source[book_index].book_publisher}}</span>\r\n                    <span>语言：{{book_source[book_index].book_language}}</span>\r\n                    <div class=\"laugh-middle-briefInfo-btn\">\r\n                            <div ><span><a :href=\"book_source[book_index].taobao_url\">开始阅读</a></span></div>\r\n                            <div @click=\"changeBookIndex\"><span>下一本</span><div ></div></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n// import {getBookSourseAPI} from '@/api'\r\n\r\nimport APlayer from 'vue-aplayer'\r\nexport default {\r\n  name: 'my-laugh',\r\n  components: { APlayer },\r\n  data () {\r\n    return {\r\n      // 上方的四个按钮\r\n      img_icon: [\r\n        { img_url: require('@/assets/images/轻松一刻图片1.png'), clickThing: 'lastSong' },\r\n        { img_url: require('@/assets/images/轻松一刻图片2.png'), clickThing: '' },\r\n        { img_url: require('@/assets/images/轻松一刻图片3.png'), clickThing: 'nextSong' },\r\n        { img_url: require('@/assets/images/轻松一刻图片4.png'), clickThing: 'stopOrPlaySong' }\r\n      ],\r\n      // 音频列表\r\n      audio: [\r\n        {\r\n          url: require('../../assets/audio/你瞒我瞒.mp3')\r\n        },\r\n        {\r\n          url: require('../../assets/audio/遇见.mp3')\r\n        },\r\n        {\r\n          url: require('../../assets/audio/IU.mp3')\r\n        }\r\n      ],\r\n      // 当前播放的音乐的索引--默认第一首\r\n      music_index: 0,\r\n      // 渲染的判断\r\n      renderAplayer: true,\r\n\r\n      // 当前展示书本资源索引--默认为0\r\n      book_index: 0,\r\n      // 书本资源\r\n      book_source: [\r\n        {\r\n          book_url: require('@/assets/images/轻松一刻书.png'),\r\n          book_name: '改变心理学的40项研究 第7版',\r\n          book_brief: '1、Vue的核心库只关注视图层，并且非常容易学习，非常容易与其它库或已有项目整合。2、Vue的目标是通过尽可能简单的 API 实现响应的数据绑定和组合的视图组件。3、Vue可以做从简单到复杂的前端单页应用，随处可见的Web前端都可以用Vue来开发。而且Vue上手速度快、功能强大，且提供了非常好用的脚手架vue-cli，很简单就可以构建并让自己的项目跑起来。',\r\n          book_publisher: '人民邮电出版社',\r\n          book_language: '中文',\r\n          taobao_url: 'https://item.jd.com/66949459642.html'\r\n        },\r\n        {\r\n          book_url: require('@/assets/images/语文.png'),\r\n          book_name: '一年级上册语数人教版',\r\n          book_brief: '一年级上册语文数学英语课本教材教科书人教部编版2021语数英课本 一年级上册语数人教版',\r\n          book_publisher: '人民教育出版社',\r\n          book_language: '中文',\r\n          taobao_url: 'https://item.jd.com/10059767828614.html'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    // 添加不同的点击事件\r\n    fourBtnClick (clickThing) {\r\n      this[clickThing]()\r\n    },\r\n    // 播放上一首\r\n    async lastSong () {\r\n      // 先关闭aplayer标签\r\n      this.renderAplayer = false\r\n      // 更改数据源\r\n      this.music_index = (this.music_index === 0) ? (this.audio.length - 1) : (this.music_index - 1)\r\n      // 异步等待开启aplayer标签\r\n      this.renderAplayer = await true\r\n      // 触发播放事件\r\n      //   this.stopOrPlaySong()\r\n\r\n      // this.$refs.aplay.play()\r\n      //   this.$refs.aplay.autoplay = true\r\n\r\n    //   console.log(this.$refs.aplay)\r\n    //   this.$refs.aplay.skipBack()\r\n    },\r\n    // 第四个键播放or暂停\r\n    stopOrPlaySong () {\r\n    //   if (this.music_state === 0) {\r\n    //     this.$refs.aplay.pause()\r\n    //     this.music_state = 1\r\n    //   } else {\r\n    //     this.$refs.aplay.play()\r\n    //     this.music_state = 0\r\n    //   }\r\n      this.$refs.aplay.toggle()\r\n    },\r\n    // 播放下一首\r\n    async nextSong () {\r\n      // 先关闭aplayer标签\r\n      this.renderAplayer = false\r\n      // 更改数据源\r\n      this.music_index = (this.music_index === this.audio.length - 1) ? 0 : (this.music_index + 1)\r\n      // 异步等待开启aplayer标签\r\n      this.renderAplayer = await true\r\n      // 触发播放事件\r\n    //   this.stopOrPlaySong()\r\n    },\r\n    // 切换书本资源\r\n    changeBookIndex () {\r\n      this.book_index = (this.book_index === this.book_source.length - 1) ? 0 : (this.book_index + 1)\r\n    }\r\n\r\n  },\r\n  computed: {\r\n    //   audio () { // 动态获取audio标签\r\n    //     return window.document.querySelector('audio')\r\n    //   }\r\n    // current_music1 () {\r\n    //   return this.current_music\r\n    // }\r\n  },\r\n  async created () {\r\n    // 请求书本资源\r\n    // const { data: res } = await getBookSourseAPI()\r\n    // this.current_music = this.music[0].id\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.audio-area{\r\n    width: 100%;\r\n    height: 100%;\r\n    .audio-middle{\r\n        // margin: 0 auto;\r\n        width: 100%;\r\n        height: 17%;\r\n        .background-middle{\r\n\r\n            margin: 0 auto;\r\n            width: 50%;\r\n            height: 100%;\r\n            background: url('../../assets/images/每日一笑-上背景.png') no-repeat center;\r\n            background-size: cover;\r\n            border-radius: 19px;\r\n            display: flex;\r\n            justify-content: space-around;\r\n            align-items: center;\r\n            div{\r\n                // display: inline-block;\r\n\r\n                width: 12%;\r\n                height: 60%;\r\n                background-repeat: no-repeat;\r\n                background-position: center;\r\n\r\n                background-size: cover;\r\n            }\r\n            div:hover{\r\n                cursor: pointer;\r\n            }\r\n            }\r\n\r\n        }\r\n    }\r\n    .laugh-area{\r\n        margin-top: 3%;\r\n        height: 80%;\r\n\r\n        .laugh-middle{\r\n                    // padding: 10%;\r\n            width: 67%;\r\n            height: 95%;\r\n            margin: 0 auto;\r\n            // background-color: blue;\r\n            border-radius: 19px;\r\n            background: url('../../assets/images/轻松一刻下背景.png') no-repeat center;\r\n            background-size: cover;\r\n            overflow: hidden;\r\n            .laugh-middle-leftImg{\r\n                display: inline-block;\r\n                height: 81%;\r\n                width: 30%;\r\n                // background-color: red;\r\n                margin-left: 4%;\r\n                margin-top: 4%;\r\n                background-repeat: no-repeat;\r\n                background-position: center;\r\n                // background:  no-repeat center;\r\n                background-size: cover;\r\n            }\r\n            .laugh-middle-briefInfo{\r\n\r\n                display: inline-block;\r\n                height: 81%;\r\n                width: 58%;\r\n                margin-left: 4%;\r\n                margin-top: 4%;\r\n                // background-color: black;\r\n                overflow: hidden;\r\n                position: relative;\r\n                >span{\r\n                    display: block;\r\n                    margin-top: 6%;\r\n                    font-size: 18px;\r\n                    color: #676767;\r\n                    // 设置超过三行就省略\r\n                    overflow: hidden;\r\n                    text-overflow: ellipsis;\r\n                    text-overflow: -webkit-ellipsis-lastline;\r\n                    display: -webkit-box;\r\n                    -webkit-line-clamp: 3;\r\n                    line-clamp: 3;\r\n                    -webkit-box-orient: vertical;\r\n\r\n                }\r\n                .laugh-middle-briefInfo-btn{\r\n                    width: 100%;\r\n                    position:absolute;\r\n                    bottom: 0;\r\n                    // background-color: red;\r\n                    position: absolute;\r\n                    margin-top: 20%;\r\n                    display: flex;\r\n                    flex-direction: row;\r\n                    justify-content: space-around;\r\n                    >div{\r\n                        display: flex;\r\n                        align-items: center;\r\n                        justify-content: space-around;\r\n                        border-radius: 16px;\r\n                        height: 50px;\r\n                        background-color: #8a9399;\r\n                        width: 25%;\r\n\r\n                        span{\r\n                            color: white;\r\n                            font-size: 22px;\r\n                            line-height: 22px;\r\n                        }\r\n                        span:hover{\r\n                             cursor: pointer;\r\n                        }\r\n                        div{\r\n                                // display: inline-block;\r\n                                width: 20%;\r\n                                height: 70%;\r\n                                background: url('../../assets/images/轻松一刻下图标.png') no-repeat center;\r\n                                background-size: cover;\r\n                        }\r\n                        div:hover{\r\n                            cursor: pointer;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}