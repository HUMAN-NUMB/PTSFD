{"ast":null,"code":"export default {\n  name: 'my-user',\n\n  data() {\n    return {\n      // 保存照片的链接--base64字符串\n      avatar: ''\n    };\n  },\n\n  methods: {\n    // 点击选择头像\n    chooseImg() {\n      // 模拟点击事件\n      this.$refs.iptRef.click();\n    },\n\n    // 选择完图片后要读取该文件，然后转化格式\n    onFileChange(e) {\n      // 获取文件信息\n      const files = e.target.files; // 没获取到\n\n      if (files[0].length === 0) {\n        this.avatar = '';\n      } else {\n        const fr = new FileReader();\n        fr.readAsDataURL(files[0]);\n\n        fr.onload = e => {\n          this.avatar = e.target.result;\n        };\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAkBA;EACAA,eADA;;EAEAC;IACA;MACA;MACAC;IAFA;EAIA,CAPA;;EAQAC;IACA;IACAC;MACA;MACA;IACA,CALA;;IAMA;IACAC;MACA;MACA,6BAFA,CAGA;;MACA;QACA;MACA,CAFA,MAEA;QACA;QACAC;;QACAA;UACA;QACA,CAFA;MAGA;IACA;;EApBA;AARA","names":["name","data","avatar","methods","chooseImg","onFileChange","fr"],"sourceRoot":"src/views/routes","sources":["my-user.vue"],"sourcesContent":["<template>\r\n  <div class=\"my-user\">\r\n      <div class=\"photo-config\">\r\n        <img src=\"../../assets/images/用户头像.png\" alt=\"\" v-if=\"!avatar\" class=\"the_img\">\r\n        <img src=\"\" alt=\"\" v-else class=\"the_img\">\r\n        <!--  -->\r\n\r\n        <input type=\"file\" style=\"display:none\" ref=\"iptRef\" @change=\"onFileChange\" accept=\"image/*\">\r\n        <div class=\"avatar_btn\" @click=\"chooseImg\">\r\n            <img src=\"../../assets/images/编辑图标.png\" alt=\"\" >\r\n            <span>编辑头像</span>\r\n        </div>\r\n\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'my-user',\r\n  data () {\r\n    return {\r\n      // 保存照片的链接--base64字符串\r\n      avatar: ''\r\n    }\r\n  },\r\n  methods: {\r\n    // 点击选择头像\r\n    chooseImg () {\r\n      // 模拟点击事件\r\n      this.$refs.iptRef.click()\r\n    },\r\n    // 选择完图片后要读取该文件，然后转化格式\r\n    onFileChange (e) {\r\n      // 获取文件信息\r\n      const files = e.target.files\r\n      // 没获取到\r\n      if (files[0].length === 0) {\r\n        this.avatar = ''\r\n      } else {\r\n        const fr = new FileReader()\r\n        fr.readAsDataURL(files[0])\r\n        fr.onload = e => {\r\n          this.avatar = e.target.result\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.my-user{\r\n  width: 90%;\r\n  height: 95%;\r\n  background-color: rgb(255, 255, 255);\r\n  border-radius: 1rem;\r\n  //水平垂直\r\n  margin: 0 auto;\r\n  //头像设置\r\n  .photo-config{\r\n    >*{\r\n      display: inline-block;\r\n    }\r\n    .the_img{\r\n      border: 1px solid black;\r\n      width: 70px;\r\n      height: 70px;\r\n    }\r\n    .avatar_btn{\r\n      border: 1px solid black;\r\n      img{\r\n      width: 15px;\r\n      height: 15px;\r\n      }\r\n    }\r\n    .avatar_btn:hover{\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}