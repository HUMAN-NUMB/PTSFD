{"ast":null,"code":"// 封装的是具体的接口请求方法\n// 注意：每个方法只负责请求一个url地址\nimport myAxios from '@/utils/request'; // 引入store\n\nimport store from '../store/index';\nexport const getListAPI = ({\n  username,\n  password,\n  repassword\n}) => {\n  // 原地是一个Promise对象（内部包含原生ajax请求）\n  // return这个Promise对象到逻辑页面，去那边对Promise对象提取结果\n  return myAxios({\n    url: '/api/reg',\n    method: 'POST',\n    // axios传参params，data\n    // params的对象参数名和值，axios源码会把参数和值，拼接在url?后面给后台（query查询字符串）\n    // data的对象参数名和值，axios源码会把参数和值，拼接在请求体里（body参数）\n    data: {\n      username,\n      password,\n      repassword\n    }\n  });\n};\n/**\r\n *\r\n * @param {*} param0 {username:用户名，password:密码}\r\n * @returns Promise对象\r\n */\n\nexport const loginAPI = ({\n  username,\n  password\n}) => {\n  return myAxios({\n    url: '/api/login',\n    method: 'POST',\n    data: {\n      username,\n      password\n    }\n  });\n}; // 获得用户信息\n\nexport const getUserInfoAPI = () => {\n  return myAxios({\n    url: '/my/userinfo',\n    // method不屑默认就是‘get’方式请求\n    method: 'GET',\n    // 传参给后台：params（查询字符串query）、data（请求体body）、headers（请求头）\n    // 由于this此处指向无法指向vm，所以要引入store\n    headers: {\n      Authorization: store.state.token\n    }\n  });\n}; // 更新头像信息\n\nexport const updateAvatarAPI = avatar => {\n  return myAxios({\n    url: '/my/update/avatar',\n    method: 'PATCH',\n    data: {\n      avatar\n    },\n    headers: {\n      Authorization: store.state.token\n    }\n  });\n};\n/**\r\n * 等待接口\r\n */\n// export const saveUserInfoAPI = ({ name, age, birthday, briefInfo, contact, area }) => {\n//   return myAxios(\n//     {\n//       url: '',\n//       method: '',\n//       data: {\n//         name, age, birthday, briefInfo, contact, area\n//       },\n//       headers: { Authorization: store.state.token }\n//     }\n//   )\n// }","map":{"version":3,"names":["myAxios","store","getListAPI","username","password","repassword","url","method","data","loginAPI","getUserInfoAPI","headers","Authorization","state","token","updateAvatarAPI","avatar"],"sources":["C:/Users/26421/Desktop/PTSFD/src/api/index.js"],"sourcesContent":["// 封装的是具体的接口请求方法\r\n// 注意：每个方法只负责请求一个url地址\r\nimport myAxios from '@/utils/request'\r\n// 引入store\r\nimport store from '../store/index'\r\nexport const getListAPI = ({ username, password, repassword }) => {\r\n  // 原地是一个Promise对象（内部包含原生ajax请求）\r\n  // return这个Promise对象到逻辑页面，去那边对Promise对象提取结果\r\n  return myAxios({\r\n    url: '/api/reg',\r\n    method: 'POST',\r\n    // axios传参params，data\r\n    // params的对象参数名和值，axios源码会把参数和值，拼接在url?后面给后台（query查询字符串）\r\n    // data的对象参数名和值，axios源码会把参数和值，拼接在请求体里（body参数）\r\n    data: {\r\n      username,\r\n      password,\r\n      repassword\r\n    }\r\n  })\r\n}\r\n/**\r\n *\r\n * @param {*} param0 {username:用户名，password:密码}\r\n * @returns Promise对象\r\n */\r\nexport const loginAPI = ({ username, password }) => {\r\n  return myAxios({\r\n    url: '/api/login',\r\n    method: 'POST',\r\n    data: {\r\n      username,\r\n      password\r\n    }\r\n  })\r\n}\r\n// 获得用户信息\r\nexport const getUserInfoAPI = () => {\r\n  return myAxios({\r\n    url: '/my/userinfo',\r\n    // method不屑默认就是‘get’方式请求\r\n    method: 'GET',\r\n    // 传参给后台：params（查询字符串query）、data（请求体body）、headers（请求头）\r\n    // 由于this此处指向无法指向vm，所以要引入store\r\n    headers: { Authorization: store.state.token }\r\n\r\n  })\r\n}\r\n\r\n// 更新头像信息\r\nexport const updateAvatarAPI = (avatar) => {\r\n  return myAxios({\r\n    url: '/my/update/avatar',\r\n    method: 'PATCH',\r\n    data: { avatar },\r\n    headers: { Authorization: store.state.token }\r\n  })\r\n}\r\n\r\n/**\r\n * 等待接口\r\n */\r\n// export const saveUserInfoAPI = ({ name, age, birthday, briefInfo, contact, area }) => {\r\n//   return myAxios(\r\n//     {\r\n//       url: '',\r\n//       method: '',\r\n//       data: {\r\n//         name, age, birthday, briefInfo, contact, area\r\n//       },\r\n//       headers: { Authorization: store.state.token }\r\n//     }\r\n//   )\r\n// }\r\n"],"mappings":"AAAA;AACA;AACA,OAAOA,OAAP,MAAoB,iBAApB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAO,MAAMC,UAAU,GAAG,CAAC;EAAEC,QAAF;EAAYC,QAAZ;EAAsBC;AAAtB,CAAD,KAAwC;EAChE;EACA;EACA,OAAOL,OAAO,CAAC;IACbM,GAAG,EAAE,UADQ;IAEbC,MAAM,EAAE,MAFK;IAGb;IACA;IACA;IACAC,IAAI,EAAE;MACJL,QADI;MAEJC,QAFI;MAGJC;IAHI;EANO,CAAD,CAAd;AAYD,CAfM;AAgBP;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMI,QAAQ,GAAG,CAAC;EAAEN,QAAF;EAAYC;AAAZ,CAAD,KAA4B;EAClD,OAAOJ,OAAO,CAAC;IACbM,GAAG,EAAE,YADQ;IAEbC,MAAM,EAAE,MAFK;IAGbC,IAAI,EAAE;MACJL,QADI;MAEJC;IAFI;EAHO,CAAD,CAAd;AAQD,CATM,C,CAUP;;AACA,OAAO,MAAMM,cAAc,GAAG,MAAM;EAClC,OAAOV,OAAO,CAAC;IACbM,GAAG,EAAE,cADQ;IAEb;IACAC,MAAM,EAAE,KAHK;IAIb;IACA;IACAI,OAAO,EAAE;MAAEC,aAAa,EAAEX,KAAK,CAACY,KAAN,CAAYC;IAA7B;EANI,CAAD,CAAd;AASD,CAVM,C,CAYP;;AACA,OAAO,MAAMC,eAAe,GAAIC,MAAD,IAAY;EACzC,OAAOhB,OAAO,CAAC;IACbM,GAAG,EAAE,mBADQ;IAEbC,MAAM,EAAE,OAFK;IAGbC,IAAI,EAAE;MAAEQ;IAAF,CAHO;IAIbL,OAAO,EAAE;MAAEC,aAAa,EAAEX,KAAK,CAACY,KAAN,CAAYC;IAA7B;EAJI,CAAD,CAAd;AAMD,CAPM;AASP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}